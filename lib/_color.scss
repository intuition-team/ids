$use-css-variables: true !default;
$theme-colors: ();

@mixin define-theme($args...) {
  @each $name, $color, $color-dark in $args {
    $theme-colors: map-merge(
      $theme-colors,
      ("wds__#{$name}": #{$color}, "wds__dark-#{$name}": #{$color-dark})
    ) !global;
  }

  @if $use-css-variables {
    :root {
      @each $name, $color, $color-dark in $args {
        --wds__#{$name}: #{$color};
      }
    }

    :root.dark-theme {
      @each $name, $color, $color-dark in $args {
        --wds__#{$name}: #{$color-dark};
      }
    }
  }
}

@function theme-color($name) {
  @if $use-css-variables {
    @return var(--#{$name});
  } @else {
    @return map-get($theme-colors, $name);
  }
}

@include define-theme(
  // Базовые цвета
  ("background-color", "rgb(255, 255, 255)", "rgb(40, 40, 40)"), // фон
  ("text-color", "rgb(5, 5, 5)", "rgb(255, 255, 255)"), // цвет текста
  ("main-color", "rgb(255, 221, 0)", "rgb(255, 221, 0)"), // основной
  ("accent-color", "rgb(0, 0, 0)", "rgb(255, 255, 255)"), // акцентный UI
  ("surface-color", "rgb(245, 245, 245)", "rgb(60, 60, 60)"), // поверхность (она же плашка)
  ("error-color", "rgb(240, 84, 95)", "rgb(240, 84, 95)"), // ошибка
  ("success-color", "rgb(84, 180, 140)", "rgb(84, 180, 140)"), // саксесс
  ("mark-color", "rgb(255, 248, 128)", "rgb(100, 100, 100)"), // маркер
  ("code-color", "rgb(200, 0, 0)", "rgb(200, 50, 50)"), // код

  // Контент
  ("on-main-color", "rgb(5, 5, 5)", "rgb(5, 5, 5)"), // на основном цвете
  ("on-accent-color", "rgb(255, 255, 255)", "rgb(40, 40, 40)"), // на акцентном цвете
  ("on-background-color", "rgb(5, 5, 5)", "rgb(255, 255, 255)"), // на фоне
  ("on-surface-color", "rgb(5, 5, 5)", "rgb(255, 255, 255)"), // на поверхности (плашке)
  ("on-error-color", "rgb(255, 255, 255)", "rgb(255, 255, 255)"), // на ошибке
  ("on-success-color", "rgb(255, 255, 255)", "rgb(255, 255, 255)"), // на саксессе

  // Цвета элементов
  ("divider-color", "rgba(5, 5, 5, 0.1)", "rgba(255, 255, 255, 0.1)"), // разделительная линия
  ("link-color", "rgb(0, 100, 240)", "rgb(80, 150, 255)"), // ссылка
  ("link-underline-color", "rgba(0, 100, 240, 0.2)", "rgba(80, 150, 255, 0.3)"), // цвет подчеркивания ссылки
  ("link-hover-color", "rgb(0, 220, 0)", "rgb(100, 230, 100)"), // ховер ссылки
  ("link-underline-hover-color", "rgba(0, 220, 0, 0.2)", "rgba(100, 230, 100, 0.3)"), // подчеркивание ховера ссылки
  ("button-color", "rgb(0, 0, 0)", "rgb(255, 255, 255)"), // кнопка
  ("button-hover-color", "rgba(0, 0, 0, 0.8)", "rgba(255, 255, 255, 0.8)"), // ховер кнопки
  ("button-text-color", "rgb(255, 255, 255)", "rgb(40, 40, 40)"), // текст на кнопке
  ("button-disabled-color", "rgba(0, 0, 0, 0.3)", "rgba(255, 255, 255, 0.3)"), // заблокированная кнопка
);
