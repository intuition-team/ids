// любая тема состоит из названия, цветов, шрифтов и типографики

@mixin mediaMobile() {
  @media screen and (max-width: 768px) {
    @content;
  }
}

@mixin define-theme($name, $colors, $fonts: (), $typo: ()) {
  :root .#{$name} {
    @each $colorName, $colorValue in $colors {
      --wds__#{$colorName}-RGB: #{$colorValue};
    }

    @if length($fonts) > 0 {
      $fontName: nth($fonts, 1);
      $fontValues: nth($fonts, 2);

      @if map-has-key($fontValues, "regular") {
        $value: map-get($fontValues, "regular");
        @include font-face(#{$fontName}, #{$value}, 400, normal);
      }
      @if map-has-key($fontValues, "medium") {
        $value: map-get($fontValues, "medium");
        @include font-face(#{$fontName}, #{$value}, 500, normal);
      }
      @if map-has-key($fontValues, "bold") {
        $value: map-get($fontValues, "bold");
        @include font-face(#{$fontName}, #{$value}, 700, normal);
      }
    }

    @if map-has-key($typo, "density") {
      --wds__density: #{map-get($typo, "density")};
    }
    @if map-has-key($typo, "desktop") {
      $desktopTypo: map-get($typo, "desktop");
      @if map-has-key($desktopTypo, "font-size-min") {
        --f-0-min: #{map-get($desktopTypo, "font-size-min")};
      }
      @if map-has-key($desktopTypo, "font-size-max") {
        --f-0-max: #{map-get($desktopTypo, "font-size-max")};
      }
      @if map-has-key($desktopTypo, "font-size-max") {
        --type-scale-desktop: #{map-get($desktopTypo, "font-scale")};
      }
    }
    @if map-has-key($typo, "mobile") {
      $mobileTypo: map-get($typo, "mobile");
      @include mediaMobile() {
        @if map-has-key($mobileTypo, "font-size-min") {
          --f-0-min: #{map-get($mobileTypo, "font-size-min")};
        }
        @if map-has-key($mobileTypo, "font-size-max") {
          --f-0-max: #{map-get($mobileTypo, "font-size-max")};
        }
        @if map-has-key($mobileTypo, "font-size-max") {
          --type-scale-desktop: #{map-get($mobileTypo, "font-scale")};
        }
      }
    }
  }
}

@include define-theme(
  "wj-default",
  (
    ("main", "255, 221, 0"),
    ("outline", "255, 221, 0"),
  )
)

@include define-theme(
  "wj-dark",
  (
    ("background", "40, 40, 40"),
    ("text", "255, 255, 255"),
    ("accent", "255, 255, 255"),
    ("main", "255, 255, 255"),
    ("surface", "60, 60, 60"),
    ("error", "229, 0, 60"),
    ("success", "0, 229, 121"),
    ("mark", "100, 100, 100"),
    ("code", "200, 50, 50"),
    ("on-main", "5, 5, 5"),
    ("on-accent", "40, 40, 40"),
    ("on-surface", "255, 255, 255"),
    ("link", "80, 150, 255"),
    ("hover", "100, 230, 100"),
    ("outline", "255, 221, 0")
  ),
  ("Root UI", (
    "regular": "https://336416.selcdn.ru/winvestor-journal/fonts/PT_Root_UI_Regular",
    "medium": "https://336416.selcdn.ru/winvestor-journal/fonts/PT_Root_UI_Medium",
    "bold": "https://336416.selcdn.ru/winvestor-journal/fonts/PT_Root_UI_Bold"
  )),
  (
    "desktop": ("font-size-min": "16", "font-size-max": "20", "font-scale": "1.5"),
    "mobile": ("font-size-min": "17", "font-size-max": "17", "font-scale": "1.333"),
    "density": "1.3",
  )
)
